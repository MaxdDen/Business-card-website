# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é —è–∑—ã–∫–æ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤ CMS

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ CMS –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫.

**–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:** –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —è–∑—ã–∫–æ–≤—ã—Ö URL —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –¥–ª—è —è–∑—ã–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`en`) –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è URL –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ (`/cms/texts`), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Å–±—Ä–æ—Å—É —è–∑—ã–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —è–∑—ã–∫–æ–≤—ã–µ —Ä–æ—É—Ç—ã –¥–ª—è –≤—Å–µ—Ö CMS —Å—Ç—Ä–∞–Ω–∏—Ü
2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω LanguageMiddleware –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ CMS —Ä–æ—É—Ç–æ–≤  
3. ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ê –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ URL** - —Ç–µ–ø–µ—Ä—å –≤—Å–µ —è–∑—ã–∫–∏ –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å—ã
4. ‚úÖ –°–æ–∑–¥–∞–Ω –∞–≤—Ç–æ—Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —è–∑—ã–∫–æ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `requests` –¥–ª—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
```bash
pip install requests==2.32.3
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
python manage.py run_dev
```

### 3. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç

**–ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:**
```bash
python manage_tests.py language_persistence
```

**–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
```bash
python manage_tests.py language_simple
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ê–≤—Ç–æ—Ç–µ—Å—Ç —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –±—ã–ª –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8000`

### üîß –û—Ç–ª–∞–¥–∫–∞ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞

–ï—Å–ª–∏ –∞–≤—Ç–æ—Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   curl http://localhost:8000/health
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

3. **–ê–≤—Ç–æ—Ç–µ—Å—Ç —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ö–æ–¥–∞
   - –í—ã–≤–æ–¥–∏—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ input –ø–æ–ª—è
   - –ü—Ä–æ–±—É–µ—Ç –≤–æ–π—Ç–∏ –±–µ–∑ CSRF —Ç–æ–∫–µ–Ω–∞, –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞

### 4. –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ CMS: `http://localhost:8000/cms`
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —è–∑—ã–∫ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (EN)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "Texts" - —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–º
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "Images" - —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–º
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "SEO" - —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–º
6. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "Users" - —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–º

## üìã –ù–æ–≤—ã–µ —è–∑—ã–∫–æ–≤—ã–µ —Ä–æ—É—Ç—ã

–¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ URL —Å —è–∑—ã–∫–æ–≤—ã–º–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:

### Dashboard
- `/cms/en/` (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `/cms/ru/` (—Ä—É—Å—Å–∫–∏–π)
- `/cms/ua/` (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)

### –†–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–æ–≤
- `/cms/en/texts` (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `/cms/ru/texts` (—Ä—É—Å—Å–∫–∏–π)
- `/cms/ua/texts` (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- `/cms/en/images` (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `/cms/ru/images` (—Ä—É—Å—Å–∫–∏–π)
- `/cms/ua/images` (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)

### SEO –ø–∞–Ω–µ–ª—å
- `/cms/en/seo` (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `/cms/ru/seo` (—Ä—É—Å—Å–∫–∏–π)
- `/cms/ua/seo` (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `/cms/en/users` (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `/cms/ru/users` (—Ä—É—Å—Å–∫–∏–π)
- `/cms/ua/users` (—É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)

## üß™ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã

–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∞–≤—Ç–æ—Ç–µ—Å—Ç `test_cms_language_persistence.py` –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ CMS
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —è–∑—ã–∫–æ–≤—ã—Ö –∞–ª–∏–∞—Å–æ–≤ –¥–ª—è CMS —Ä–æ—É—Ç–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—é —è–∑—ã–∫–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ CMS –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏ –≤ CMS –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞:**
```bash
python manage_tests.py language_persistence
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`app/cms/routes.py`** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —è–∑—ã–∫–æ–≤—ã–µ –∞–ª–∏–∞—Å—ã –¥–ª—è –≤—Å–µ—Ö CMS —Å—Ç—Ä–∞–Ω–∏—Ü
2. **`app/site/middleware.py`** - —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —è–∑—ã–∫–æ–≤—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –¥–ª—è CMS
3. **`tests/auto_tests/test_cms_language_persistence.py`** - –Ω–æ–≤—ã–π –∞–≤—Ç–æ—Ç–µ—Å—Ç
4. **`requirements.txt`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `requests`
5. **`docs/architecture.md`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
6. **`tests/auto_tests/README.md`** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —è–∑—ã–∫–æ–≤–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ CMS —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —è–∑—ã–∫–∞ –≤ —à–∞–ø–∫–µ CMS, —è–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- –Ø–∑—ã–∫–æ–≤—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL —Å —è–∑—ã–∫–æ–≤—ã–º–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏
- –í—Å–µ CMS —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–∞—Ö (en, ua, ru)
